<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Ada's Team Website">
    <meta name="author" content="Ada's Team">
    <!--favicon-->
	<link rel="icon" href="/img/head-square.png">

    <title>Ada's Team</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/simple-sidebar.css" rel="stylesheet">

</head>

<body class="ada-background">

    <header id="header" class="ada-header">
        <input class="left ada-header-menu" href="#menu-toggle" id="menu-toggle" type="image" src="img/menu.png" />
        <div class="ada-header-text">Ada's Team</div>
    </header>

    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="space-above">
                    <a id="home" href="#">Home</a>
                </li>
                <li>
                    <a id="tutoring" href="#tutoring">Tutoring</a>
                </li>
                <li>
                    <a id="events" href="#events">Events</a>
                </li>
                <li>
                    <a id="executives" href="#executives">Executives</a>
                </li>
                <li>
                    <a id="resources" href="#resources">Resources</a>
                </li>
                <li>
                    <a id="scholarships" href="#scholarships">Scholarships</a>
                </li>
                <li>
                    <a id="sign-up" href="#sign-up">Sign Up</a>
                </li>
                <li>
                    <a id="contact-us" href="#contact-us">Contact Us</a>
                </li>
                <li>
                    <a id="blog" href="#blog">Blog</a>
                </li>
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <!-- literally everything goes in here, all inserted through jquery-->
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <footer id="footer" class="ada-footer"></footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script>

    installPolyfills();

    // Open the sidebar on wide enough screens.
    // TODO: use a media query for this?
    $(document).ready(function(){
        if ($(window).width() > 700){
            $("#wrapper").toggleClass("toggled");
        }
    });

    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });

    $('#footer').load('pages/footer.html');

    // Collect all of the links that go to pages/*.html.
    var pageLinks = $('.sidebar-nav a[id]');

    // Get a array of all of the valid pages.
    // Valid pages are marked by an #id in the sidebar-nav.
    var pages = pageLinks.map(function (_index, element) {
        return element.id;
    }).toArray();

    navigateToPageBasedOnHash();

    // Whenever the URI's #fragment (a.k.a., hash) changes, navigate to a new page.
    // NB: the sidebar links will change the hash appropriately.
    if ('onhashchange' in window) {
        window.onhashchange = function (_event) {
            navigateToPageBasedOnHash();
            // You clicked a link in the sidebar, so the sidebar should close.
            toggleSideBarOnMobile();
        }
    }

    function toggleSideBarOnMobile() {
        if ($(window).width() < 700){
            $("#wrapper").toggleClass("toggled");
        }
    }

    function navigateToPageBasedOnHash() {
        var hash = window.location.hash;
        var requestedPage = hash.slice('1');

        // this if else allows the URL's to specify what tab you want to see
        if (pages.includes(requestedPage)) {
            goToPage(requestedPage);
        } else {
            goToPage('home');
        }
    }

    // Navigates to the given page name.
    // The name must coorespond to a file in pages/*.html.
    function goToPage(name) {
        $('#page-content-wrapper').load('pages/' + name + '.html');
        $(window).scrollTop(0);
    }

    // IE11 doesn't have Array#includes(), so add it here.
    function installPolyfills() {
        if ('includes' in Array.prototype) {
            return;
        }

        Object.defineProperty(Array.prototype, 'includes', {
            // Make sure the property is NON-ENUMERABLE, or else it will
            // appear in for (var x in array) loops (because JavaScript)
            enumerable: false,
            value: includesPolyfill,
        });

        // Implemented (roughly) according to the standard:
        // https://www.ecma-international.org/ecma-262/7.0/#sec-array.prototype.includes
        function includesPolyfill(searchElement, fromIndex) {
            // The ECMAScript standard chose bad variable names;
            // I'm just being consistent :/
            var k;
            var len;
            var n;

            len = this.length;
            if (len === 0) {
                return false;
            }

            // ~~+ is a concise way to coerce things into integers.
            n = ~~+fromIndex || 0;
            if (n >= 0) {
                k = n;
            } else {
                k = len + n;
                if (k < 0) {
                    k = 0;
                }
            }

            for (/* ðŸ‘†ðŸ‘€ */; k < len; k++) {
                if (this[k] === searchElement) {
                    return true;
                }
            }
            return false;
        }
    }
    </script>

</body>

</html>
